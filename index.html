<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VendaPro AI - Versão Produção</title>

<style>
body{
    margin:0;
    font-family:Arial,Helvetica,sans-serif;
    background:#0f1115;
    color:#fff;
}
.sidebar{
    width:230px;
    height:100vh;
    background:#111827;
    position:fixed;
    padding:20px;
}
.sidebar h2{color:#7c3aed}
.sidebar button{
    width:100%;
    margin:8px 0;
    padding:12px;
    background:#1f2937;
    border:none;
    color:#fff;
    border-radius:8px;
    cursor:pointer;
}
.main{
    margin-left:250px;
    padding:30px;
}
.card{
    background:#111827;
    padding:20px;
    border-radius:12px;
    max-width:700px;
}
input,textarea{
    width:100%;
    padding:12px;
    margin-top:8px;
    margin-bottom:15px;
    background:#0f172a;
    border:1px solid #333;
    color:#fff;
    border-radius:8px;
}
button.primary{
    background:#7c3aed;
    border:none;
    padding:14px;
    width:100%;
    border-radius:10px;
    color:#fff;
    font-weight:bold;
    cursor:pointer;
}
#resultado{
    white-space:pre-wrap;
    background:#020617;
    padding:20px;
    border-radius:12px;
    margin-top:20px;
}
</style>
</head>

<body>

<div class="sidebar">
<h2>VendaPro IA</h2>
<button onclick="mostrar('config')">Config IA</button>
<button onclick="mostrar('gerar')">Gerar Banner</button>
</div>

<div class="main">

<div id="config" class="card">
<h3>Chave IA gratuita (OpenRouter)</h3>
<input id="key" placeholder="cole sua chave sk-or-v1-..." />
<button class="primary" onclick="salvarKey()">Salvar chave</button>
<p style="opacity:.7">Crie grátis em https://openrouter.ai/keys</p>
</div>

<div id="gerar" class="card" style="display:none">
<h3>Gerar banner profissional</h3>

<input id="segmento" placeholder="Segmento cliente (ex: clínica, mercado)">
<textarea id="produtos" placeholder="Produtos e soluções"></textarea>
<textarea id="problema" placeholder="Problema do cliente"></textarea>

<button class="primary" onclick="gerar()">GERAR TEXTO PROFISSIONAL</button>

<div id="resultado"></div>
</div>

</div>

<script>
function mostrar(id){
    document.getElementById("config").style.display="none";
    document.getElementById("gerar").style.display="none";
    document.getElementById(id).style.display="block";
}

function salvarKey(){
    const k=document.getElementById("key").value.trim();
    if(!k){alert("cole a chave");return;}
    localStorage.setItem("openrouter_key",k);
    alert("chave salva");
}

async function gerar(){

const key=localStorage.getItem("openrouter_key");
if(!key){alert("adicione chave IA");return;}

const segmento=document.getElementById("segmento").value;
const produtos=document.getElementById("produtos").value;
const problema=document.getElementById("problema").value;

const prompt=`
Crie um texto de banner publicitário profissional.

Segmento: ${segmento}
Problema: ${problema}
Produtos: ${produtos}

Entregue:
Headline forte
Texto persuasivo
Mensagem whatsapp
`;

document.getElementById("resultado").innerHTML="Gerando...";

try{
const r=await fetch("https://openrouter.ai/api/v1/chat/completions",{
method:"POST",
headers:{
"Authorization":"Bearer "+key,
"Content-Type":"application/json",
"HTTP-Referer":"https://vendapro.local",
"X-Title":"VendaProAI"
},
body:JSON.stringify({
model:"deepseek/deepseek-chat",
messages:[
{role:"system",content:"Especialista em marketing e vendas B2B"},
{role:"user",content:prompt}
]
})
});

const data=await r.json();

if(!data.choices){
console.log(data);
alert("erro IA");
return;
}

document.getElementById("resultado").innerText=data.choices[0].message.content;

}catch(e){
alert("erro conexão IA");
console.log(e);
}
}
</script>

</body>
</html>
